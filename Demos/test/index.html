<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Nan &amp; Bob's</title>
        <link rel="stylesheet" href="jquery.mobile-1.1.0.min.css" />
        
        <script src="jquery.min.js"></script>
        <script src="jquery.mobile-1.1.0.min.js"></script>
		<script type="text/javascript">
			/*$( function() {
				$('#searchButton').click(function() {
					$.getJSON('http://ws.geonames.org/findNearbyWikipediaJSON?formatted=true&lat=43.0318&lng=-76.0950', 
					function(data) {
						var items=data.geonames;
						var thelist = $('#list');
						thelist.html("");
						$.each(items, function(key, val) {
							//alert(val.title);
							//list.append($(document.createElement('li')).html(val.Name));
							thelist.append('<li>'+val.title+'</li>');
						});
						//list.listview("destroy").listview();
						thelist.trigger('refresh');
					});

				});
				document.addEventListener("deviceready", onDeviceReady, false);
			});*/

			document.addEventListener("deviceready", onDeviceReady, false);

			/*function reachableCallback(reachability) {
				alert('odr');
				// There is no consistency on the format of reachability
		        var networkState = reachability.code || reachability;

		        var states = {};
		        states[NetworkStatus.NOT_REACHABLE]                      = 'No network connection';
		        states[NetworkStatus.REACHABLE_VIA_CARRIER_DATA_NETWORK] = 'Carrier data connection';
		        states[NetworkStatus.REACHABLE_VIA_WIFI_NETWORK]         = 'WiFi connection';

		        alert('Connection type: ' + states[networkState]);

			}*/

			function startWatch() {

		        // Update acceleration every 3 seconds
		        var options = { frequency: 3000 };

		        watchID = navigator.accelerometer.watchAcceleration(onSuccess, onError, options);
		    }

		    // Stop watching the acceleration
		    //
		    function stopWatch() {
		        if (watchID) {
		            navigator.accelerometer.clearWatch(watchID);
		            watchID = null;
		        }
		    }

		    // onSuccess: Get a snapshot of the current acceleration
		    //
		    function onSuccess(acceleration) {
		        var element = document.getElementById('accelerometer');
		        element.innerHTML = 'Acceleration X: ' + acceleration.x + '<br />' +
		                            'Acceleration Y: ' + acceleration.y + '<br />' +
		                            'Acceleration Z: ' + acceleration.z + '<br />' +
		                            'Timestamp: '      + acceleration.timestamp + '<br />';
		    }

		    // onError: Failed to get the acceleration
		    //
		    function onError() {
		        alert('onError!');
		    }


			function onDeviceReady() {
				startWatch();
				//navigator.network.isReachable("google.com", reachableCallback, {});
			}
		</script>
    </head>
    <body>
        <div data-role="page" id="home">
            <div data-role="header">
                <h2>Nan &amp; Bob's</h2>
            </div>
            <div data-role="content">
                <!--<input type="text" name="search" id="searchBox" value="" data-theme="a" /> 
				<button type="submit" data-theme="a" id="searchButton">Search</button>
				<ul data-role="listview" id="list"></ul> -->
				<div id="accelerometer">Waiting for accelerometer...</div>
            </div>
            <div data-role="footer">
                <h3>
                    123 Fake St. Anywhere USA
                </h3>
            </div>
        </div>
        <div data-role="page" id="page2" data-add-back-btn="true">
            <div data-role="header">
                <h2>Nan &amp; Bob's</h2>
            </div>
            <div data-role="content">
                <p>I am page 2 - </p>
            </div>
            <div data-role="footer">
                <h3>
                    123 Fake St. Anywhere USA
                </h3>
            </div>
        </div>
    </body>
</html>